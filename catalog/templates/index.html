{% extends "base_generic.html" %} 
{% block title %}
<title>Home - LocalLibrary</title>
{% endblock %} 
{% block content %}
<h1>Local Library Home</h1>
<p>
  Welcome to LocalLibrary, a website developed by
  <em>Mozilla Developer Network</em>!
</p>
<h2>Dynamic content</h2>
<p>The library has the following record counts:</p>
<ul>
  <li><strong>Books:</strong> {{ num_books }}</li>
  <li><strong>Copies:</strong> {{ num_instances }}</li>
  <li><strong>Copies available:</strong> {{ num_instances_available }}</li>
  <li><strong>Authors:</strong> {{ num_authors }}</li>
</ul>
<p>
    You have visited this page {{ num_visits }} time{{ num_visits|pluralize }}.
</p>

<!-- 搜索表单 -->
<h2>Search for Books and Genres</h2>
<form method="get" action="{% url 'index' %}">
  <label for="search_word">Enter a word to search:</label>
  <input
    type="text"
    id="search_word"
    name="search_word"
    value="{{ search_word }}"
  />
  <button type="submit">Search</button>
</form>

{% if search_word %}
<h3>Results for "{{ search_word }}":</h3>
<ul>
  <li>
    <strong>Books containing "{{ search_word }}":</strong> {{
    num_books_with_word }}
  </li>
  <li>
    <strong>Genres containing "{{ search_word }}":</strong> {{
    num_genres_with_word }}
  </li>
</ul>
{% endif %} 
{% endblock %}
